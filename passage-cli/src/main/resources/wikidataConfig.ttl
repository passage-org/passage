PREFIX :        <#>
PREFIX fuseki:  <http://jena.apache.org/fuseki#>
PREFIX rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ja:      <http://jena.hpl.hp.com/2005/11/Assembler#>
PREFIX tdb2:    <http://jena.apache.org/2016/tdb#>
PREFIX psg:     <http://fr.gdd.passage/engine-vocabulary#>
PREFIX sd:      <http://www.w3.org/ns/sparql-service-description#>
PREFIX void:    <http://rdfs.org/ns/void#>

## For more information about Fuseki configurations, take a look at:
## <https://jena.apache.org/documentation/fuseki2/fuseki-configuration.html>

## This is about deploy a live 1.7TB Wikidata for everyone to use
## with continuation queries to ensure completeness of results.

## SERVER

[] rdf:type fuseki:Server ;
   fuseki:services (
     :service_watdiv
#     :service_wikidata
   )
   .

## SERVICES

:service_watdiv rdf:type fuseki:Service ;
    fuseki:name "watdiv" ;
    fuseki:endpoint [
        fuseki:operation psg:query_w_args ;
        fuseki:name "passage" ;
    ];
    fuseki:dataset :dataset_watdiv ;
    .

:service_wikidata rdf:type fuseki:Service ;
    fuseki:name "wikidata" ;
    fuseki:endpoint [
        fuseki:operation psg:query_w_args ;
        fuseki:name "passage" ;
    ];
    fuseki:dataset :dataset_wikidata ;
    .

## DATASETS

:dataset_watdiv rdf:type psg:DatasetBlazegraph ;
#    psg:location           "/DATA/datasets/watdiv10m-blaze/watdiv10M.jnl" ;
    psg:location           "/Users/nedelec-b-2/Desktop/Projects/temp/watdiv10m-blaze/watdiv10M.properties" ;
    psg:timeout            1000 ;
    psg:max_results        10000 ;
    psg:engine             psg:PassageEngine ;
    psg:description        :watdiv_description ;
    .

:dataset_wikidata rdf:type psg:DatasetBlazegraph ;
#    psg:location           "/DATA/projects/ingester/RWStore.properties" ;
    psg:location           "/Users/nedelec-b-2/Desktop/Projects/temp/ingester/RWStore.properties" ;
    psg:timeout            60000 ;
    psg:max_results        100000 ;
    psg:engine             psg:PassageEngine ;
    .

## DESCRIPTIONS (take a look at: <https://www.w3.org/TR/sparql11-service-description/>)

:watdiv_description rdf:type sd:Service ;
    sd:endpoint          "watdiv/passage" ;
    sd:supportedLanguage :passage-0.0.3 ;
    ## TODO advertise random walk interface
    .

:passage-0.0.3 rdf:type sd:Language ;
    psg:support psg:project ,
                psg:values ,
                psg:union ,
                psg:join ,
                psg:bgp ,
                psg:pattern ,
                psg:extend ,
                psg:filter ,
                psg:optional
    .